!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).htmlToImage={})}(this,(function(t){"use strict";function e(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)}a((r=r.apply(t,e||[])).next())}))}function n(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var r={exports:{}};!function(t){var e,n,r;e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX,t.exports=function(t,o,i){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var u=i&&i.debug||!1;if(u){var c=document.querySelector("#input-textarea-caret-position-mirror-div");c&&c.parentNode.removeChild(c)}var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var l=a.style,f=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,s="INPUT"===t.nodeName;l.whiteSpace="pre-wrap",s||(l.wordWrap="break-word"),l.position="absolute",u||(l.visibility="hidden"),e.forEach((function(t){s&&"lineHeight"===t?l.lineHeight=f.height:l[t]=f[t]})),r?t.scrollHeight>parseInt(f.height)&&(l.overflowY="scroll"):l.overflow="hidden",a.textContent=t.value.substring(0,o),s&&(a.textContent=a.textContent.replace(/\s/g,"Â "));var d=document.createElement("span");d.textContent=t.value.substring(o)||".",a.appendChild(d);var h={top:d.offsetTop+parseInt(f.borderTopWidth),left:d.offsetLeft+parseInt(f.borderLeftWidth),height:parseInt(f.lineHeight)};return u?d.style.backgroundColor="#aaa":document.body.removeChild(a),h}}(r);var o=r.exports,i="application/font-woff",u="image/jpeg",c={woff:i,woff2:i,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:u,jpeg:u,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function a(t){var e=function(t){var e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return c[e]||""}function l(t){return-1!==t.search(/^(data:)/)}function f(t,e){return"data:".concat(e,";base64,").concat(t)}var s,d=(s=0,function(){return s+=1,"u".concat("0000".concat((Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)).concat(s)});function h(t){for(var e=[],n=0,r=t.length;n<r;n+=1)e.push(t[n]);return e}function v(t,e){var n,r=null===(n=null==t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;if(!r)return 0;var o=parseFloat(r.getComputedStyle(t).getPropertyValue(e).replace("px",""));return Number.isNaN(o)?0:o}function p(t){var e=function(t){var e=v(t,"border-left-width"),n=v(t,"border-right-width");return t.clientWidth+e+n}(t);return e+v(t,"margin-left")+v(t,"margin-right")}function m(t){var e=function(t){var e=v(t,"border-top-width"),n=v(t,"border-bottom-width");return t.clientHeight+e+n}(t);return e+v(t,"margin-top")+v(t,"margin-bottom")}function g(t,e){return void 0===e&&(e={}),t.toBlob?new Promise((function(n){return t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)})):new Promise((function(n){for(var r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o),u=0;u<o;u+=1)i[u]=r.charCodeAt(u);n(new Blob([i],{type:e.type?e.type:"image/png"}))}))}function w(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.crossOrigin="anonymous",r.decoding="sync",r.src=t}))}function y(t){return e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,Promise.resolve().then((function(){return(new XMLSerializer).serializeToString(t)})).then(encodeURIComponent).then((function(t){return"data:image/svg+xml;charset=utf-8,".concat(t)}))]}))}))}function b(t,e,n,r){var o=".".concat(t,":").concat(e),i=n.cssText?function(t){var e=t.getPropertyValue("content");return"".concat(t.cssText," content: '").concat(e.replace(/'|"/g,""),"';")}(n):function(t){return h(t).map((function(e){var n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return"".concat(e,": ").concat(n).concat(r?" !important":"",";")})).join(" ")}(n);return r.createTextNode("".concat(o,"{").concat(i,"}"))}function x(t,e,n){var r,o=null==t?void 0:t.ownerDocument;if(o){var i=null===(r=null==o?void 0:o.defaultView)||void 0===r?void 0:r.getComputedStyle(t,n);if(i){var u=i.getPropertyValue("content");if(""!==u&&"none"!==u){var c=d();try{e.className="".concat(e.className," ").concat(c)}catch(t){return}var a=o.createElement("style");a.appendChild(b(c,n,i,o)),e.appendChild(a)}}}}function S(t){return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){return"data:,"===(e=t.toDataURL())?[2,Promise.resolve(t.cloneNode(!1))]:[2,w(e)]}))}))}function E(t){return e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,Promise.resolve(t).then((function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");if(null===n)throw new Error("Failed to get 2D context");return n.drawImage(t,0,0),e.toDataURL()})).then((function(t){return w(t)}))]}))}))}function P(t){var r;return e(this,void 0,void 0,(function(){var e,i,u,c,a,l,f,s,d,h,v,p;return n(this,(function(n){return e=t.ownerDocument,i=e.createElement("div"),(u=e.createElement("div")).style.display="block",u.style.width="100%",u.style.height="100%",u.style.boxSizing="border-box",u.style.overflow="hidden",i.appendChild(u),(c=e.createElement("div")).style.display="block",c.style.whiteSpace="nowrap",c.style.transform="translateX(-".concat(t.scrollLeft,"px) translateY(-").concat(t.scrollTop,"px)"),u.appendChild(c),a=e.defaultView,l=0,f=0,s="pre-wrap",(d=null==a?void 0:a.getComputedStyle(t))&&(l=parseFloat(d.paddingLeft),f=parseFloat(d.paddingLeft),"INPUT"!==t.tagName&&(s=d.whiteSpace)),h=o(t,null!==(r=t.selectionStart)&&void 0!==r?r:0),(v=e.createElement("div")).style.left="".concat(h.left-l,"px"),v.style.top="".concat(h.top-f,"px"),v.style.width="1px",v.style.height="1em",v.style.background="black",v.style.display="inline-block",v.style.position="relative",c.appendChild(v),(p=e.createElement("span")).textContent=t.value,"INPUT"!==t.tagName&&(p.style.whiteSpace=s),c.appendChild(p),[2,Promise.resolve(i)]}))}))}function T(t,r,o){var i;return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){return(e=null===(i=null==t?void 0:t.ownerDocument)||void 0===i?void 0:i.defaultView)&&r instanceof e.Element?[2,Promise.resolve().then((function(){return function(t,e){var n,r,o=null===(r=null===(n=null==t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.getComputedStyle(t),i=e.style;if(o&&i){for(var u="",c=0;c<o.length;c+=1){var a=o[c];u+="".concat(a,":").concat(o.getPropertyValue(a)," ").concat(o.getPropertyPriority(a),";")}i.cssText=u}}(t,r)})).then((function(){return function(t,e){x(t,e,":before"),x(t,e,":after")}(t,r)})).then((function(){return function(t,e,n){var r=null==t?void 0:t.ownerDocument,o=null==r?void 0:r.defaultView;if(o)if(n.fakeTextInputs&&r.activeElement===t){var i=t instanceof o.HTMLInputElement;(i||t instanceof o.HTMLTextAreaElement)&&(e.style.overflow="hidden",e.style.verticalAlign="top",i&&(e.style.whiteSpace="nowrap"))}else t instanceof o.HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof o.HTMLInputElement&&e.setAttribute("value",t.value)}(t,r,o)})).then((function(){return function(t,e){var n;if(0!==t.scrollTop||0!==t.scrollLeft){var r=null===(n=null==t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;if(r&&!((t instanceof r.HTMLTextAreaElement||t instanceof r.HTMLInputElement)&&e instanceof r.HTMLDivElement))for(var o=0;o<e.children.length;o+=1){var i=e.children[o];if(!("style"in i))return;var u=i,c=u.style.transform,a=new DOMMatrix(c),l=a.a,f=a.b,s=a.c,d=a.d;a.a=1,a.b=0,a.c=0,a.d=1,a.translateSelf(-t.scrollLeft,-t.scrollTop),a.a=l,a.b=f,a.c=s,a.d=d,u.style.transform=a.toString()}}}(t,r)})).then((function(){return r}))]:[2,Promise.resolve(r)]}))}))}function C(t,r,o){return e(this,void 0,void 0,(function(){return n(this,(function(i){return o||!r.filter||r.filter(t)?[2,Promise.resolve(t).then((function(t){return function(t,r){return e(this,void 0,void 0,(function(){var e,o;return n(this,(function(n){if(e=null==t?void 0:t.ownerDocument,o=null==e?void 0:e.defaultView){if(t instanceof o.HTMLCanvasElement)return[2,S(t)];if(t instanceof o.HTMLVideoElement)return[2,E(t)];if(r.fakeTextInputs&&t===e.activeElement&&(t instanceof o.HTMLInputElement||t instanceof o.HTMLTextAreaElement))return[2,P(t)]}return[2,Promise.resolve(t.cloneNode(!1))]}))}))}(t,r)})).then((function(o){return function(t,r,o){var i,u;return e(this,void 0,void 0,(function(){var e,c;return n(this,(function(n){var a;return e=null!=(a=t).tagName&&"SLOT"===a.tagName.toUpperCase()&&t.assignedNodes?h(t.assignedNodes()):h((null!==(i=t.shadowRoot)&&void 0!==i?i:t).childNodes),c=null===(u=null==t?void 0:t.ownerDocument)||void 0===u?void 0:u.defaultView,0===e.length||c&&t instanceof c.HTMLVideoElement?[2,Promise.resolve(r)]:[2,e.reduce((function(t,e){return t.then((function(){return C(e,o)})).then((function(t){t&&r.appendChild(t)}))}),Promise.resolve()).then((function(){return r}))]}))}))}(t,o,r)})).then((function(e){return T(t,e,r)}))]:[2,Promise.resolve(null)]}))}))}var L={};function R(t,e){var n=function(t){var e=t.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(e)&&(e=e.replace(/.*\//,"")),e}(t);if(null!=L[n])return L[n];e.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());var r=window.fetch(t,e.fetchRequestInit).then((function(t){return t.blob().then((function(e){return{blob:e,contentType:t.headers.get("Content-Type")||""}}))})).then((function(t){var e=t.blob,n=t.contentType;return new Promise((function(t,r){var o=new FileReader;o.onloadend=function(){return t({contentType:n,blob:o.result})},o.onerror=r,o.readAsDataURL(e)}))})).then((function(t){var e,n=t.blob;return{contentType:t.contentType,blob:(e=n,e.split(/,/)[1])}})).catch((function(n){var r="";if(e.imagePlaceholder){var o=e.imagePlaceholder.split(/,/);o&&o[1]&&(r=o[1])}var i="Failed to fetch resource: ".concat(t);return n&&(i="string"==typeof n?n:n.message),i&&console.error(i),{blob:r,contentType:""}}));return L[n]=r,r}var I=/url\((['"]?)([^'"]+?)\1\)/g,D=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,N=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function k(t){var e=[];return t.replace(I,(function(t,n,r){return e.push(r),t})),e.filter((function(t){return!l(t)}))}function M(t,e,n,r,o){var i=n?function(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;var n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),e&&(r.href=e),o.href=t,o.href}(e,n):e;return Promise.resolve(i).then((function(t){return o?o(t):R(t,r)})).then((function(t){return"string"==typeof t?f(t,a(e)):f(t.blob,a(e)||t.contentType)})).then((function(n){return t.replace((r=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),new RegExp("(url\\(['\"]?)(".concat(r,")(['\"]?\\))"),"g")),"$1".concat(n,"$3"));var r})).then((function(t){return t}),(function(){return i}))}function V(t){return-1!==t.search(I)}function H(t,r,o){return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){return V(t)?(e=function(t,e){var n=e.preferredFontFormat;return n?t.replace(N,(function(t){for(;;){var e=D.exec(t)||[],r=e[0],o=e[2];if(!o)return"";if(o===n)return"src: ".concat(r,";")}})):t}(t,o),[2,Promise.resolve(e).then(k).then((function(t){return t.reduce((function(t,e){return t.then((function(t){return M(t,e,r,o)}))}),Promise.resolve(e))}))]):[2,Promise.resolve(t)]}))}))}function A(t,r){var o;return e(this,void 0,void 0,(function(){var i;return n(this,(function(u){return(i=null===(o=null==t?void 0:t.ownerDocument)||void 0===o?void 0:o.defaultView)&&t instanceof i.Element?[2,Promise.resolve(t).then((function(t){return function(t,r){var o;return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){return(e=null===(o=t.style)||void 0===o?void 0:o.getPropertyValue("background"))?[2,Promise.resolve(e).then((function(t){return H(t,null,r)})).then((function(e){return t.style.setProperty("background",e,t.style.getPropertyPriority("background")),t}))]:[2,Promise.resolve(t)]}))}))}(t,r)})).then((function(t){return function(t,r){var o;return e(this,void 0,void 0,(function(){var e,i;return n(this,(function(n){return(e=null===(o=null==t?void 0:t.ownerDocument)||void 0===o?void 0:o.defaultView)&&(t instanceof e.HTMLImageElement&&!l(t.src)||t instanceof e.SVGImageElement&&!l(t.href.baseVal))?(i=t instanceof e.HTMLImageElement?t.src:t.href.baseVal,[2,Promise.resolve(i).then((function(t){return R(t,r)})).then((function(t){return f(t.blob,a(i)||t.contentType)})).then((function(n){return new Promise((function(r,o){t.onload=r,t.onerror=o,t instanceof e.HTMLImageElement?(t.srcset="",t.src=n):t.href.baseVal=n}))})).then((function(){return t}),(function(){return t}))]):[2,Promise.resolve(t)]}))}))}(t,r)})).then((function(t){return function(t,r){return e(this,void 0,void 0,(function(){var e,o;return n(this,(function(n){return e=h(t.childNodes),o=e.map((function(t){return A(t,r)})),[2,Promise.all(o).then((function(){return t}))]}))}))}(t,r)}))]:[2,Promise.resolve(t)]}))}))}var U={};function F(t){var e=U[t];if(null!=e)return e;var n=window.fetch(t).then((function(e){return{url:t,cssText:e.text()}}));return U[t]=n,n}function j(t,r){return e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,t.cssText.then((function(e){var n=e,o=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map((function(e){var i=e.replace(o,"$1");return i.startsWith("https://")||(i=new URL(i,t.url).href),window.fetch(i,r.fetchRequestInit).then((function(t){return t.blob()})).then((function(t){return new Promise((function(r,o){var i=new FileReader;i.onloadend=function(){n=n.replace(e,"url(".concat(i.result,")")),r([e,i.result])},i.onerror=o,i.readAsDataURL(t)}))}))}));return Promise.all(i).then((function(){return n}))}))]}))}))}function z(t){if(null==t)return[];for(var e=[],n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,""),r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){if(null===(u=r.exec(n)))break;e.push(u[0])}n=n.replace(r,"");for(var o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){var u;if(null===(u=o.exec(n))){if(null===(u=i.exec(n)))break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;e.push(u[0])}return e}function W(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return V(t.style.getPropertyValue("src"))}))}function q(t,r){return e(this,void 0,void 0,(function(){return n(this,(function(o){return[2,new Promise((function(e,n){null==t.ownerDocument&&n(new Error("Provided element is not within a Document")),e(h(t.ownerDocument.styleSheets))})).then((function(t){return function(t,r){return e(this,void 0,void 0,(function(){var e,o;return n(this,(function(n){return e=[],o=[],t.forEach((function(e){if("cssRules"in e)try{h(e.cssRules).forEach((function(t,n){if(t.type===CSSRule.IMPORT_RULE){var i=n+1,u=F(t.href).then((function(t){return t?j(t,r):""})).then((function(t){return z(t).forEach((function(t){try{e.insertRule(t,t.startsWith("@import")?i+=1:e.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:t,error:e})}}))})).catch((function(t){console.error("Error loading remote css",t.toString())}));o.push(u)}}))}catch(i){var n=t.find((function(t){return null==t.href}))||document.styleSheets[0];null!=e.href&&o.push(F(e.href).then((function(t){return t?j(t,r):""})).then((function(t){return z(t).forEach((function(t){n.insertRule(t,e.cssRules.length)}))})).catch((function(t){console.error("Error loading remote stylesheet",t.toString())}))),console.error("Error inlining remote css file",i.toString())}})),[2,Promise.all(o).then((function(){return t.forEach((function(t){if("cssRules"in t)try{h(t.cssRules).forEach((function(t){e.push(t)}))}catch(e){console.error("Error while reading CSS rules from ".concat(t.href),e.toString())}})),e}))]}))}))}(t,r)})).then(W)]}))}))}function B(t,r){return e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,q(t,r).then((function(t){return Promise.all(t.map((function(t){var e=t.parentStyleSheet?t.parentStyleSheet.href:null;return H(t.cssText,e,r)})))})).then((function(t){return t.join("\n")}))]}))}))}function O(t,e){return void 0===e&&(e={}),{width:e.width||p(t),height:e.height||m(t)}}function $(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){var o,i,u;return n(this,(function(c){return o=O(t,r),i=o.width,u=o.height,[2,Promise.resolve(t).then((function(t){return C(t,r,!0)})).then((function(t){return function(t,r){return e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,(null!=r.fontEmbedCSS?Promise.resolve(r.fontEmbedCSS):B(t,r)).then((function(e){var n=document.createElement("style"),r=document.createTextNode(e);return n.appendChild(r),t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),t}))]}))}))}(t,r)})).then((function(t){return A(t,r)})).then((function(t){return function(t,e){var n=t.style;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width="".concat(e.width,"px")),e.height&&(n.height="".concat(e.height,"px"));var r=e.style;return null!=r&&Object.keys(r).forEach((function(t){n[t]=r[t]})),t}(t,r)})).then((function(t){return function(t,r,o){return e(this,void 0,void 0,(function(){var e,i,u;return n(this,(function(n){return e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg"),u=document.createElementNS(e,"foreignObject"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(o)),i.setAttribute("viewBox","0 0 ".concat(r," ").concat(o)),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("externalResourcesRequired","true"),i.appendChild(u),u.appendChild(t),[2,y(i)]}))}))}(t,i,u)}))]}))}))}function _(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,$(t,r).then(w)]}))}))}var X=16384;function Y(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,_(t,r).then((function(e){var n=document.createElement("canvas"),o=n.getContext("2d"),i=r.pixelRatio||function(){var t,e;try{e=process}catch(t){}var n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),u=O(t,r),c=u.width,a=u.height,l=r.canvasWidth||c,f=r.canvasHeight||a;return n.width=l*i,n.height=f*i,r.skipAutoScale||function(t){(t.width>X||t.height>X)&&(t.width>X&&t.height>X?t.width>t.height?(t.height*=X/t.width,t.width=X):(t.width*=X/t.height,t.height=X):t.width>X?(t.height*=X/t.width,t.width=X):(t.width*=X/t.height,t.height=X))}(n),n.style.width="".concat(l),n.style.height="".concat(f),r.backgroundColor&&(o.fillStyle=r.backgroundColor,o.fillRect(0,0,n.width,n.height)),o.drawImage(e,0,0,n.width,n.height),n}))]}))}))}t.getFontEmbedCSS=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,B(t,r)]}))}))},t.toBlob=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,Y(t,r).then(g)]}))}))},t.toCanvas=Y,t.toJpeg=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,Y(t,r).then((function(t){return t.toDataURL("image/jpeg",r.quality||1)}))]}))}))},t.toPixelData=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){var e,o,i;return n(this,(function(n){return e=O(t,r),o=e.width,i=e.height,[2,Y(t,r).then((function(t){return t.getContext("2d").getImageData(0,0,o,i).data}))]}))}))},t.toPng=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,Y(t,r).then((function(t){return t.toDataURL()}))]}))}))},t.toSvg=$,t.toSvgImg=_,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=html-to-image.js.map
